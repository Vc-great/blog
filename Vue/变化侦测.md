# 变化侦测

## 核心概念



![变化侦测](D:\个人\Blog\Vue\变化侦测.assets\变化侦测.png)

### Objserver

​		数据劫持

​		将数据转换为可被观察的对象

### Dep

​		`依赖管理类(发布订阅模式) :`负责收集 修改 删除 更新 

- get方法中收集依赖
- set方法派发依赖

### Watcher

​		`依赖整合类(中介者模式):`各种依赖整合为统一形式

​		

## Objserver 观察者

1. Object.defineproperty

   > Object.defineproperty()方法会直接在一个对象上定义一个新属性,或者修改一个对象的现有属性,并返回这个对象

-  数据描述符 `略`

- 存取描述符 

  - get 给属性提供`getter`方法,当访问该属性时,该方法被执行
  - set 给属性提供`setter`方法,当属性值修改时,触发执行该方法

- MDN:

  [Object.defineProperty()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty)



1. 怎样观察
   - 收集`data`中的数据
   - 遍历`data`,每个属性执行`Object.defineProperty()`将数据设置为响应式,在`get`中收集依赖(依赖储存在Dep中),在`set`中触发依赖

​		